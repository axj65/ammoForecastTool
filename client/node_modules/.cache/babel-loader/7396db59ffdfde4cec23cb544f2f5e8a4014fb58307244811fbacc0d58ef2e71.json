{"ast":null,"code":"import _regeneratorRuntime from\"/Users/albertjoe33/mac_only_docs/inf385t/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/albertjoe33/mac_only_docs/inf385t/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/albertjoe33/mac_only_docs/inf385t/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import\"bootstrap/dist/css/bootstrap.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SaveEvent(){var location=useLocation();var navigate=useNavigate();var tableData=location.state.tableData;// Retrieve passed table data\n// State for form fields\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),eventName=_useState2[0],setEventName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),startDate=_useState4[0],setStartDate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),endDate=_useState6[0],setEndDate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),locationText=_useState8[0],setLocationText=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),additionalInfo=_useState10[0],setAdditionalInfo=_useState10[1];// New state variable for form validation\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isFormValid=_useState12[0],setIsFormValid=_useState12[1];// Validate form whenever relevant fields change\nuseEffect(function(){setIsFormValid(!!eventName.trim()&&!!startDate&&!!endDate);},[eventName,startDate,endDate]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var eventData,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Check if mandatory fields are filled\nif(!(!eventName.trim()||!startDate||!endDate)){_context.next=4;break;}window.alert(\"Please fill out the Event Name, Start Date, and End Date.\");return _context.abrupt(\"return\");case 4:eventData={eventName:eventName,startDate:startDate,endDate:endDate,location:locationText,additionalInfo:additionalInfo,tableData:tableData};_context.prev=5;_context.next=8;return fetch('http://localhost:5050/saveEvent',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(eventData)});case 8:response=_context.sent;_context.next=11;return response.text();case 11:data=_context.sent;if(response.ok){// Redirect or display success message\nnavigate('/path-to-redirect');}else{window.alert(data);// Display error message\n}_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);window.alert(\"There was a problem with saving the event: \"+_context.t0.message);case 18:case\"end\":return _context.stop();}},_callee,null,[[5,15]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Save Event Details\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:eventName,onChange:function onChange(e){return setEventName(e.target.value);},placeholder:\"Event Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:function onChange(e){return setStartDate(e.target.value);},placeholder:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:function onChange(e){return setEndDate(e.target.value);},placeholder:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:locationText,onChange:function onChange(e){return setLocationText(e.target.value);},placeholder:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:additionalInfo,onChange:function onChange(e){return setAdditionalInfo(e.target.value);},placeholder:\"Additional Info\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-submit \".concat(!isFormValid?'disabled-button':''),onClick:handleSubmit,disabled:!isFormValid,children:\"Save Event Info\"})]});}export default SaveEvent;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","SaveEvent","location","navigate","tableData","state","_useState","_useState2","_slicedToArray","eventName","setEventName","_useState3","_useState4","startDate","setStartDate","_useState5","_useState6","endDate","setEndDate","_useState7","_useState8","locationText","setLocationText","_useState9","_useState10","additionalInfo","setAdditionalInfo","_useState11","_useState12","isFormValid","setIsFormValid","trim","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","eventData","response","data","wrap","_callee$","_context","prev","next","preventDefault","window","alert","abrupt","fetch","method","headers","body","JSON","stringify","sent","text","ok","t0","message","stop","_x","apply","arguments","children","type","value","onChange","target","placeholder","className","concat","onClick","disabled"],"sources":["/Users/albertjoe33/mac_only_docs/inf385t/client/src/components/saveEvent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nfunction SaveEvent() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const tableData = location.state.tableData; // Retrieve passed table data\n\n  // State for form fields\n  const [eventName, setEventName] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [locationText, setLocationText] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  // New state variable for form validation\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  // Validate form whenever relevant fields change\n  useEffect(() => {\n    setIsFormValid(!!eventName.trim() && !!startDate && !!endDate);\n  }, [eventName, startDate, endDate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Check if mandatory fields are filled\n    if (!eventName.trim() || !startDate || !endDate) {\n      window.alert(\"Please fill out the Event Name, Start Date, and End Date.\");\n      return; // Prevent the form from submitting\n    }\n\n    const eventData = {\n      eventName,\n      startDate,\n      endDate,\n      location: locationText,\n      additionalInfo,\n      tableData\n    };\n\n    try {\n      // Send a POST request to your server endpoint\n      const response = await fetch('http://localhost:5050/saveEvent', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(eventData),\n      });\n\n      const data = await response.text();\n\n      if (response.ok) {\n        // Redirect or display success message\n        navigate('/path-to-redirect');\n      } else {\n        window.alert(data); // Display error message\n      }\n    } catch (error) {\n      window.alert(\"There was a problem with saving the event: \" + error.message);\n    }\n  };\n\n  return (\n    <div>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n      <br/>\n\n      <h2>Save Event Details</h2>\n      {/* Form for event details */}\n      <input\n        type=\"text\"\n        value={eventName}\n        onChange={(e) => setEventName(e.target.value)}\n        placeholder=\"Event Name\"\n      />\n      <input\n        type=\"date\"\n        value={startDate}\n        onChange={(e) => setStartDate(e.target.value)}\n        placeholder=\"Start Date\"\n      />\n      <input\n        type=\"date\"\n        value={endDate}\n        onChange={(e) => setEndDate(e.target.value)}\n        placeholder=\"End Date\"\n      />\n      <input\n        type=\"text\"\n        value={locationText}\n        onChange={(e) => setLocationText(e.target.value)}\n        placeholder=\"Location\"\n      />\n      <input\n        type=\"text\"\n        value={additionalInfo}\n        onChange={(e) => setAdditionalInfo(e.target.value)}\n        placeholder=\"Additional Info\"\n      />\n      <button className={`btn btn-submit ${!isFormValid ? 'disabled-button' : ''}`} onClick={handleSubmit} disabled={!isFormValid}>Save Event Info</button>\n    </div>\n  );\n}\n\nexport default SaveEvent;\n"],"mappings":"+ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,GAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAQ,SAAS,CAAGF,QAAQ,CAACG,KAAK,CAACD,SAAS,CAAE;AAE5C;AACA,IAAAE,SAAA,CAAkCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAkClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAA8BtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAAwC1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAA4C9B,QAAQ,CAAC,EAAE,CAAC,CAAA+B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAjDE,cAAc,CAAAD,WAAA,IAAEE,iBAAiB,CAAAF,WAAA,IAExC;AACA,IAAAG,WAAA,CAAsClC,QAAQ,CAAC,KAAK,CAAC,CAAAmC,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAA9CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAElC;AACAlC,SAAS,CAAC,UAAM,CACdoC,cAAc,CAAC,CAAC,CAACrB,SAAS,CAACsB,IAAI,CAAC,CAAC,EAAI,CAAC,CAAClB,SAAS,EAAI,CAAC,CAACI,OAAO,CAAC,CAChE,CAAC,CAAE,CAACR,SAAS,CAAEI,SAAS,CAAEI,OAAO,CAAC,CAAC,CAEnC,GAAM,CAAAe,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,SAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BR,CAAC,CAACS,cAAc,CAAC,CAAC,CAElB;AAAA,KACI,CAACtC,SAAS,CAACsB,IAAI,CAAC,CAAC,EAAI,CAAClB,SAAS,EAAI,CAACI,OAAO,GAAA2B,QAAA,CAAAE,IAAA,UAC7CE,MAAM,CAACC,KAAK,CAAC,2DAA2D,CAAC,CAAC,OAAAL,QAAA,CAAAM,MAAA,kBAItEX,SAAS,CAAG,CAChB9B,SAAS,CAATA,SAAS,CACTI,SAAS,CAATA,SAAS,CACTI,OAAO,CAAPA,OAAO,CACPf,QAAQ,CAAEmB,YAAY,CACtBI,cAAc,CAAdA,cAAc,CACdrB,SAAS,CAATA,SACF,CAAC,CAAAwC,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAIwB,CAAAK,KAAK,CAAC,iCAAiC,CAAE,CAC9DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACjB,SAAS,CAChC,CAAC,CAAC,QANIC,QAAQ,CAAAI,QAAA,CAAAa,IAAA,CAAAb,QAAA,CAAAE,IAAA,UAQK,CAAAN,QAAQ,CAACkB,IAAI,CAAC,CAAC,SAA5BjB,IAAI,CAAAG,QAAA,CAAAa,IAAA,CAEV,GAAIjB,QAAQ,CAACmB,EAAE,CAAE,CACf;AACAxD,QAAQ,CAAC,mBAAmB,CAAC,CAC/B,CAAC,IAAM,CACL6C,MAAM,CAACC,KAAK,CAACR,IAAI,CAAC,CAAE;AACtB,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAgB,EAAA,CAAAhB,QAAA,aAEDI,MAAM,CAACC,KAAK,CAAC,6CAA6C,CAAGL,QAAA,CAAAgB,EAAA,CAAMC,OAAO,CAAC,CAAC,yBAAAjB,QAAA,CAAAkB,IAAA,MAAAzB,OAAA,iBAE/E,kBAvCK,CAAAL,YAAYA,CAAA+B,EAAA,SAAA9B,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAuCjB,CAED,mBACEjE,KAAA,QAAAkE,QAAA,eACEpE,IAAA,QAAI,CAAC,cACLA,IAAA,QAAI,CAAC,cACLA,IAAA,QAAI,CAAC,cACLA,IAAA,QAAI,CAAC,cACLA,IAAA,QAAI,CAAC,cAELA,IAAA,OAAAoE,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAE3BpE,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3D,SAAU,CACjB4D,QAAQ,CAAE,SAAAA,SAAC/B,CAAC,QAAK,CAAA5B,YAAY,CAAC4B,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,CAC9CG,WAAW,CAAC,YAAY,CACzB,CAAC,cACFzE,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEvD,SAAU,CACjBwD,QAAQ,CAAE,SAAAA,SAAC/B,CAAC,QAAK,CAAAxB,YAAY,CAACwB,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,CAC9CG,WAAW,CAAC,YAAY,CACzB,CAAC,cACFzE,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEnD,OAAQ,CACfoD,QAAQ,CAAE,SAAAA,SAAC/B,CAAC,QAAK,CAAApB,UAAU,CAACoB,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,CAC5CG,WAAW,CAAC,UAAU,CACvB,CAAC,cACFzE,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE/C,YAAa,CACpBgD,QAAQ,CAAE,SAAAA,SAAC/B,CAAC,QAAK,CAAAhB,eAAe,CAACgB,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,CACjDG,WAAW,CAAC,UAAU,CACvB,CAAC,cACFzE,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3C,cAAe,CACtB4C,QAAQ,CAAE,SAAAA,SAAC/B,CAAC,QAAK,CAAAZ,iBAAiB,CAACY,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,CACnDG,WAAW,CAAC,iBAAiB,CAC9B,CAAC,cACFzE,IAAA,WAAQ0E,SAAS,mBAAAC,MAAA,CAAoB,CAAC5C,WAAW,CAAG,iBAAiB,CAAG,EAAE,CAAG,CAAC6C,OAAO,CAAE1C,YAAa,CAAC2C,QAAQ,CAAE,CAAC9C,WAAY,CAAAqC,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAClJ,CAAC,CAEV,CAEA,cAAe,CAAAjE,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}